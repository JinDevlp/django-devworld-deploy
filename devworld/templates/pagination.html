{% if queryset.has_other_pages %}
<ul class="pagination justify-content-center">
  {% if queryset.has_previous %}
  <li class="page-item">
    <a
      class="btn btn-light"
      href="?page={{queryset
        .previous_page_number}}"
      aria-label="Previous"
      data-page="{{queryset.previous_page_number}}"
    >
      <span aria-hidden="true">&#10094;</span>
      <span class="sr-only">Previous</span>
    </a>
  </li>
  {% endif %} {% for page in custom_range %} {% if page == queryset.number%}
  <li class="page-item">
    <a class="btn btn-light" data-page="{{page}}" href="?page={{page}}"
      >{{page}}</a
    >
  </li>
  {% else %}
  <li class="page-item">
    <a class="btn btn-light" data-page="{{page}}" href="?page={{page}}"
      >{{page}}</a
    >
  </li>
  {%endif%} {% endfor %} {% if queryset.has_next %}
  <li class="page-item">
    <a
      class="btn btn-light"
      href="?page={{queryset.next_page_number}}"
      aria-label="Next"
      data-page="{{queryset.next_page_number}}"
    >
      <span aria-hidden="true">&#10095;</span>
      <span class="sr-only">Next</span>
    </a>
  </li>
  {% endif %}
</ul>
{%endif%}
<script type="text/javascript">
  // get search form and page links
  let searchForm = document.getElementById("searchForm");
  let pageLinks = document.getElementByClassName("btn-light");
  if (searchForm) {
    for (let i = 0; pageLinks.length > i; i++) {
      pageLinks[i].addEventListener("click", function (e) {
        e.preventDefault();

        //GET THE DATA ATTRIBUTE
        let page = this.dataset.page;

        //ADD HIDDEN SEARCH INPUT TO FORM
        searchForm.innerHTML += `<input value=${page} name="page" hidden/>`;

        //SUBMIT FORM
        searchForm.submit();
      });
    }
  }
</script>
